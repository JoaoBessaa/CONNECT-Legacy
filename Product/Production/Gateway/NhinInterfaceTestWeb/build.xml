<?xml version="1.0" encoding="UTF-8"?>
<!-- You may freely edit this file. See commented blocks below for -->
<!-- some examples of how to customize the build. -->
<!-- (If you delete it and reopen the project it will be recreated.) -->
<!-- By default, only the Clean and Build commands use this build script. -->
<!-- Commands such as Run, Debug, and Test only use this build script if -->
<!-- the Compile on Save feature is turned off for the project. -->
<!-- You can turn off the Compile on Save (or Deploy on Save) setting -->
<!-- in the project's Project Properties dialog box.-->
<project name="NhinInterfaceTestWeb" default="default" basedir=".">
  <description>Builds, tests, and runs the project NhinInterfaceTestWeb.</description>
  <import file="../../../build.lib.xml" />

  <property name="deploy.type" value="war" />
  <property name="deploy.isDeployable" value="true"/>

  <import file="nbproject/build-impl.xml"/>

  <target name="build">
    <property name="target-to-call" value="dist" />
    <antcall target="call-target-in-isolation-if-out-of-date" />
  </target>
  <target name="clean-build" depends="clean,build" />
  <target name="clean-test" depends="clean-build,test" />
  <target name="build-test" depends="build,test" />

  <target name="wsimport-service-AdapterMpiSecured" depends="wsimport-init">
    <copy todir="${build.web.dir}/WEB-INF/wsdl/AdapterMpiSecured">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/AdapterMpiSecured/wsdl/"/>
    </copy>
    <copy todir="${build.web.dir}/WEB-INF/wsdl/schemas">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/AdapterMpiSecured/schemas/"/>
    </copy>
  </target>

  <target name="wsimport-service-AuditQuery" depends="wsimport-init">
    <copy todir="${build.web.dir}/WEB-INF/wsdl/AuditQuery">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/AuditQuery/wsdl/"/>
    </copy>
    <copy todir="${build.web.dir}/WEB-INF/wsdl/schemas">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/AuditQuery/schemas/"/>
    </copy>
  </target>

  <target name="wsimport-service-DocQuery" depends="wsimport-init">
    <copy todir="${build.web.dir}/WEB-INF/wsdl/DocQuery">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/DocQuery/wsdl/"/>
    </copy>
    <copy todir="${build.web.dir}/WEB-INF/wsdl/schemas">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/DocQuery/schemas/"/>
    </copy>
  </target>

  <target name="wsimport-service-DocRetrieve" depends="wsimport-init">
    <copy todir="${build.web.dir}/WEB-INF/wsdl/DocRetrieve">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/DocRetrieve/wsdl/"/>
    </copy>
    <copy todir="${build.web.dir}/WEB-INF/wsdl/schemas">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/DocRetrieve/schemas/"/>
    </copy>
  </target>

  <target name="wsimport-service-HiemNotify" depends="wsimport-init">
    <copy todir="${build.web.dir}/WEB-INF/wsdl/HiemNotify">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/HiemNotify/wsdl/"/>
    </copy>
    <copy todir="${build.web.dir}/WEB-INF/wsdl/schemas">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/HiemNotify/schemas/"/>
    </copy>
  </target>

  <target name="wsimport-service-NhinPatientDiscovery" depends="wsimport-init">
    <copy todir="${build.web.dir}/WEB-INF/wsdl/NhinPatientDiscovery">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/NhinPatientDiscovery/wsdl/"/>
    </copy>
    <copy todir="${build.web.dir}/WEB-INF/wsdl/schemas">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/NhinPatientDiscovery/schemas/"/>
    </copy>
  </target>

  <target name="wsimport-service-SubjectDiscovery" depends="wsimport-init">
    <copy todir="${build.web.dir}/WEB-INF/wsdl/SubjectDiscovery">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/SubjectDiscovery/wsdl/"/>
    </copy>
    <copy todir="${build.web.dir}/WEB-INF/wsdl/schemas">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/SubjectDiscovery/schemas/"/>
    </copy>
  </target>

  <target name="wsimport-service-HiemSubscription" depends="wsimport-init">
    <copy todir="${build.web.dir}/WEB-INF/wsdl/HiemSubscription">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/HiemSubscription/wsdl/"/>
    </copy>
    <copy todir="${build.web.dir}/WEB-INF/wsdl/schemas">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/HiemSubscription/schemas/"/>
    </copy>
  </target>

  <target name="wsimport-service-HiemUnsubscribe" depends="wsimport-init">
    <copy todir="${build.web.dir}/WEB-INF/wsdl/HiemUnsubscribe">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/HiemUnsubscribe/wsdl/"/>
    </copy>
    <copy todir="${build.web.dir}/WEB-INF/wsdl/schemas">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/HiemUnsubscribe/schemas/"/>
    </copy>
  </target>
  <target name="wsimport-service-NhinXDR" depends="wsimport-init">
    <copy todir="${build.web.dir}/WEB-INF/wsdl/NhinXDR">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/NhinXDR/wsdl/"/>
    </copy>
    <copy todir="${build.web.dir}/WEB-INF/wsdl/schemas">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/NhinXDR/schemas/"/>
    </copy>        
  </target>

  <target name="wsimport-service-NhinXDRRequest" depends="wsimport-init">
    <copy todir="${build.web.dir}/WEB-INF/wsdl/NhinXDRRequest">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/NhinXDRRequest/wsdl/"/>
    </copy>
    <copy todir="${build.web.dir}/WEB-INF/wsdl/schemas">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/NhinXDRRequest/schemas/"/>
    </copy>
  </target>

  <target name="wsimport-service-NhinXDRResponse" depends="wsimport-init">
    <copy todir="${build.web.dir}/WEB-INF/wsdl/NhinXDRResponse">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/NhinXDRResponse/wsdl/"/>
    </copy>
    <copy todir="${build.web.dir}/WEB-INF/wsdl/schemas">
      <fileset dir="${basedir}/${conf-dir}xml-resources/web-services/NhinXDRResponse/schemas/"/>
    </copy>
  </target>

  <target depends="init" if="netbeans.home" name="undeploy-clean" unless="from.commandline">
    <nbundeploy failOnError="false" startServer="false"/>
  </target>
  <target depends="init,compile-test,-pre-test-run,-do-test-run" if="have.tests" name="-post-test-run">
    <copy todir="${nhin.project.home}\UnitTestResults">
      <fileset dir="${build.test.results.dir}"/>
    </copy>
    <fail if="tests.failed" unless="ignore.failing.tests">Some tests failed; see details above.</fail>
  </target>    
</project>
